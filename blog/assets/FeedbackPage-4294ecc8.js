import{S as g}from"./SplitPanelLayout-ade48211.js";import{f as v}from"./Feedback-313a8f0e.js";import{G as f}from"./GeneralTable-35001312.js";import{d as h,r as n,a as _,u as w,c as k,o as S,e as x,a2 as y,f as C,h as z,w as c,i as m}from"./index-31ea285c.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                    */const T=h({__name:"FeedbackPage",setup(B){const l=n(null);_();const d=w(),e=k({tableKey:Math.random().toString(),total:0,page:1,pageSize:20}),u=n([{label:"id",prop:"id",width:"120",fixed:!0},{label:"部分内容",prop:"content"},{label:"创建时间",prop:"insertTime",width:"120"},{label:"Operations",prop:"operations",width:"120",fixed:"right",operations:[{label:"查看",cmd:"view"}]}]),r=n([]),b=(a,t)=>{switch(a){case"view":l.value=t;break}},s=a=>{v.listFeedback(a-1,e.pageSize).then(t=>{t.content.forEach(o=>{o.content=o.content.substring(0,128)}),r.value=t.content,e.total=t.totalElements,e.page=t.number+1,e.tableKey=Math.random().toString()})},i=()=>{d.switchPage([])};return S(()=>{i()}),x(()=>{s(e.page),i()}),(a,t)=>{const o=y("v-md-preview");return C(),z(g,null,{first:c(()=>[m(f,{"table-key":e.tableKey,columns:u.value,"table-data":r.value,total:e.total,"page-size":e.pageSize,page:e.page,onCommand:b,onPageChange:s},null,8,["table-key","columns","table-data","total","page-size","page"])]),second:c(()=>{var p;return[m(o,{text:(p=l.value)==null?void 0:p.content},null,8,["text"])]}),_:1})}}});export{T as default};
