import{d as T,r as u,ag as p,ah as B,c as N,a as C,u as P,o as A,e as I,f as l,g as n,z as W,i as o,w as c,j as x,F as _,l as v,h as m,k as L,E as M,ad as z,m as U,P as F,Q as O,_ as R}from"./index-31ea285c.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                *//* empty css                  */import{W as j}from"./WorksInfoView-8796fd41.js";import{w as D}from"./Works-8a0f93c5.js";import{S as G}from"./SearchBar-ec4e9ecf.js";/* empty css                  */import"./DirectroyTree-a29405c1.js";const H={class:"search-page-container"},Q={class:"row"},$={key:0,class:"row",style:{"margin-top":"10px"}},q=T({__name:"SearchPage",setup(J){const s=u(!1),d=u([{label:"内容",value:p.CONTENT},{label:"标签",value:p.TAG},{label:"文件名",value:p.FILE_NAME}]),i=u([{label:"更新时间",value:B.UPDATE_TIME},{label:"创建时间",value:B.CREATE_TIME}]),t=N({searchBy:d.value[0].value,orderBy:i.value[0].value}),h=u([]),E=C(),S=P(),y=r=>{D.searchWorks(r,s.value?t.searchBy:d.value[0].value,s.value?t.orderBy:i.value[0].value).then(a=>{h.value=a.content,r.length==0&&M.success("显示推荐内容")})},b=r=>{E.push(`/worksbrowser/?worksId=${r.id}`)},f=()=>{S.switchPage([])};return A(()=>{f()}),I(()=>{f(),y("")}),(r,a)=>{const V=z,g=U,w=F,k=O;return l(),n("div",H,[W("div",Q,[o(G,{style:{"max-width":"600px","min-width":"500px"},onSearch:y}),o(V,{size:"large",style:{"margin-left":"10px"},modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e)},null,8,["modelValue"])]),s.value?(l(),n("div",$,[o(g,{style:{"margin-right":"10px"}},{default:c(()=>[x("依据")]),_:1}),o(k,{modelValue:t.searchBy,"onUpdate:modelValue":a[1]||(a[1]=e=>t.searchBy=e),placeholder:"Select",size:"large",style:{width:"240px"}},{default:c(()=>[(l(!0),n(_,null,v(d.value,e=>(l(),m(w,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),o(g,{style:{"margin-left":"10px"}},{default:c(()=>[x("排序")]),_:1}),o(k,{modelValue:t.orderBy,"onUpdate:modelValue":a[2]||(a[2]=e=>t.orderBy=e),placeholder:"Select",size:"large",style:{width:"240px"}},{default:c(()=>[(l(!0),n(_,null,v(i.value,e=>(l(),m(w,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])):L("",!0),(l(!0),n(_,null,v(h.value,e=>(l(),m(j,{onClickWorks:b,class:"content-container",works:e,key:e.id},null,8,["works"]))),128))])}}});const ne=R(q,[["__scopeId","data-v-cf355fb0"]]);export{ne as default};
