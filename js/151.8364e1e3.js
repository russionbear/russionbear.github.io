"use strict";(self["webpackChunkadvancedwar_vue"]=self["webpackChunkadvancedwar_vue"]||[]).push([[151,206],{40089:function(e,a){a.Z=(e,a)=>{const l=e.__vccOpts||e;for(const[t,n]of a)l[t]=n;return l}},22965:function(e,a,l){l.d(a,{Z:function(){return y}});var t=l(73396),n=l(44870),r=l(87139),s=l(86367),o=l(84495),u=l(55743),d=l.n(u);const i={key:1,class:"row"},c={class:"row"},p={class:"row"},m=(0,t.Uk)("id"),w={class:"el-dropdown-link"},g=(0,t.Uk)("opera"),f={class:"row fade dsc"};var v=(0,t.aZ)({name:"InfoRecord",props:{data:null,btnName:null,hideImg:{type:Boolean},hideTitle:{type:Boolean},operaBtns:null},setup(e,{emit:a}){const l=e,{copy:u}=(0,s.VPI)({source:l.data.recordId.toString()}),v=(0,t.Fl)((()=>l.data)),k=e=>{"string"===typeof e?a(e,v.value.recordId.toString()):void 0!==l.operaBtns&&a(l.operaBtns[0],v.value.recordId.toString())};return(a,s)=>{const _=(0,t.up)("el-image"),y=(0,t.up)("el-tag"),U=(0,t.up)("el-space"),h=(0,t.up)("el-button"),b=(0,t.up)("el-dropdown-item"),I=(0,t.up)("el-dropdown-menu"),S=(0,t.up)("el-dropdown"),z=(0,t.up)("el-card");return(0,t.wg)(),(0,t.j4)(z,{class:"box-card",shadow:"hover","body-style":{padding:"0px"}},{default:(0,t.w5)((()=>[l.hideImg?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(_,{key:0,class:"data_img",src:(0,n.SU)(o.Z).staticUrls.mapImage+(0,n.SU)(v).mapId+".png",fit:"cover"},null,8,["src"])),l.hideTitle?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("h3",null,(0,r.zw)((0,n.SU)(v).mapName),1),(0,t._)("span",null,(0,r.zw)((0,n.SU)(v).version),1)])),(0,t._)("div",c,[(0,t._)("span",null,"消耗"+(0,r.zw)((0,n.SU)(v).bouts)+"回合",1),(0,t._)("time",null,(0,r.zw)((0,n.SU)(d()).unix((0,n.SU)(v).recordBeginTime).format("DD/MM/YYYY")),1),(0,t.Wm)(U,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(v).kw.split(",").filter((e=>""!==e)),(e=>((0,t.wg)(),(0,t.j4)(y,{size:"small",key:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e),1)])),_:2},1024)))),128))])),_:1})]),(0,t._)("div",p,[(0,t.Wm)(U,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(v).winers,(e=>((0,t.wg)(),(0,t.j4)(y,{size:"small",key:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e),1)])),_:2},1024)))),128))])),_:1}),(0,t.Wm)(U,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(v).losers,(e=>((0,t.wg)(),(0,t.j4)(y,{size:"small",key:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e),1)])),_:2},1024)))),128))])),_:1}),(0,t.Wm)(h,{type:"primary",text:"",size:"small",onClick:s[0]||(s[0]=e=>(0,n.SU)(u)())},{default:(0,t.w5)((()=>[m])),_:1}),void 0!==e.operaBtns&&e.operaBtns.length>1?((0,t.wg)(),(0,t.j4)(S,{key:0,onCommand:k,trigger:"click"},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.operaBtns,(e=>((0,t.wg)(),(0,t.j4)(b,{key:e,command:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e),1)])),_:2},1032,["command"])))),128))])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("span",w,[(0,t.Wm)(h,{type:"primary",size:"small"},{default:(0,t.w5)((()=>[g])),_:1})])])),_:1})):void 0!==e.operaBtns?((0,t.wg)(),(0,t.j4)(h,{key:1,type:"primary",size:"small",onClick:k},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.operaBtns[0]),1)])),_:1})):(0,t.kq)("",!0)]),(0,t._)("div",f,(0,r.zw)((0,n.SU)(v).ownerDsc),1)])),_:1})}}}),k=l(40089);const _=(0,k.Z)(v,[["__scopeId","data-v-e3439d76"]]);var y=_},15206:function(e,a,l){l.r(a),l.d(a,{default:function(){return g}});var t=l(73396),n=l(44870),r=l(84495),s=l(70678);const o={class:"container",style:{height:"500px"}},u={class:"toolbar"},d=(0,t.Uk)("进入战场"),i=["src"],c=(0,t.Uk)("exit");var p=(0,t.aZ)({name:"EgretView",props:{src:null},setup(e,{emit:a}){const l=e,p=((0,n.iH)(null),(0,s.yj)()),m=(0,n.iH)(l.src),w=(0,n.iH)(!1),g=()=>{r.v&&(console.log(navigator.userAgent.toLowerCase()),w.value?document.exitFullscreen():document.documentElement.requestFullscreen()),w.value=!w.value};return(0,t.bv)((()=>{if("/egret"===p.path){if(!p.query.id)return;m.value="?roomid="+p.query.id}})),(e,a)=>{const l=(0,t.up)("el-button");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",u,[(0,t.Wm)(l,{type:"primary",style:{width:"50%"},onClick:g},{default:(0,t.w5)((()=>[d])),_:1})]),w.value?((0,t.wg)(),(0,t.iD)("iframe",{key:0,class:"fullscreen",name:"iframe",src:(0,n.SU)(r.Z).egretUrl+m.value,allow:"fullscreen",frameborder:"0"},"\r\n    ",8,i)):(0,t.kq)("",!0),w.value?((0,t.wg)(),(0,t.j4)(l,{key:1,class:"exit-fullscreen",onClick:a[0]||(a[0]=e=>w.value=!1)},{default:(0,t.w5)((()=>[c])),_:1})):(0,t.kq)("",!0)])}}}),m=l(40089);const w=(0,m.Z)(p,[["__scopeId","data-v-4333aefa"]]);var g=w},89151:function(e,a,l){l.r(a),l.d(a,{default:function(){return U}});var t=l(73396),n=l(44870),r=l(22965),s=l(15206),o=l(87139),u=l(84495);const d={class:"container"},i=(0,t.Uk)("winner");var c=(0,t.aZ)({name:"InfoResult",props:{data:null,btnName:null,hideImg:{type:Boolean},hideTitle:{type:Boolean},bg:null},emits:["enter"],setup(e,{emit:a}){const l=e,r=(0,t.Fl)((()=>l.data)),s=()=>{a("enter",r.value.userId)};return(e,a)=>{const c=(0,t.up)("el-image"),p=(0,t.up)("el-descriptions-item"),m=(0,t.up)("el-tag"),w=(0,t.up)("el-button"),g=(0,t.up)("el-descriptions");return(0,t.wg)(),(0,t.iD)("div",d,[l.hideImg?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(c,{key:0,class:"data_img",src:(0,n.SU)(u.Z).staticUrls.userHeader+(0,n.SU)(r).headerUrl+".png",fit:"cover"},null,8,["src"])),(0,t.Wm)(g,{title:l.hideTitle?"":(0,n.SU)(r).flag,column:8,size:"small"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)((0,n.SU)(r).userName),1)])),_:1}),(0,t.Wm)(p,{span:6},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(r).rank,(e=>((0,t.wg)(),(0,t.j4)(m,{size:"small",key:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e),1)])),_:2},1024)))),128)),(0,n.SU)(r).won?((0,t.wg)(),(0,t.j4)(m,{key:0,size:"small"},{default:(0,t.w5)((()=>[i])),_:1})):(0,t.kq)("",!0)])),_:1}),void 0!==l.btnName?((0,t.wg)(),(0,t.j4)(p,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{onClick:s},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(l.btnName),1)])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(p,{label:"allMoney"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)((0,n.SU)(r).allMoney),1)])),_:1}),(0,t.Wm)(p,{label:"lost"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)((0,n.SU)(r).lostMoney),1)])),_:1}),(0,t.Wm)(p,{label:"destroyed"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)((0,n.SU)(r).destroyMoney),1)])),_:1})])),_:1},8,["title"])])}}}),p=l(40089);const m=(0,p.Z)(c,[["__scopeId","data-v-6fdb9e3f"]]);var w=m,g=l(20065),f=l(70678),v=l(18678);const k={class:"list"};var _=(0,t.aZ)({name:"RecordView",setup(e){(0,g.oR)();const a=(0,f.yj)(),l=(0,f.tv)(),o=(0,n.iH)({mapId:0,mapName:"",mapDsc:"",updateTime:0,version:"",kw:"",playCount:0,authorId:"",authorName:"",recordId:0,ownerId:"",ownerName:"",ownerDsc:"",bouts:0,recordBeginTime:0,winers:[],losers:[]}),d=(0,n.iH)([]),i=()=>{l.push({path:"/map",query:{id:o.value.mapId}})},c=e=>{l.push({path:"/page",query:{un:e}})};return(0,t.bv)((()=>{let e=parseInt(a.query["id"]);v.Q6({skip:0,type:"id",value:e}).then((e=>{if(0===e.data["data"].length)return;let a=e.data["data"][0];console.log(a),o.value=a})),v.O7({recordId:e}).then((e=>{d.value=e.data["data"]}))})),(e,l)=>{const p=(0,t.up)("el-image"),m=(0,t.up)("el-scrollbar"),g=(0,t.up)("el-backtop");return(0,t.wg)(),(0,t.j4)(m,{class:"scroll"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{class:"miniMap"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{src:(0,n.SU)(u.Z).staticUrls.mapImage+o.value.mapId+".png"},null,8,["src"])])),_:1}),(0,t.Wm)(r.Z,{"hide-img":!0,class:"map_info",data:o.value,"opera-btns":["map"],onMap:i},null,8,["data"]),(0,t._)("ul",k,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(d.value,(e=>((0,t.wg)(),(0,t.j4)(w,{"btn-name":"visit",onEnter:a=>c(e.userName),data:e,key:e.recordId},null,8,["onEnter","data"])))),128))]),(0,t.Wm)(s["default"],{src:"?recordid="+(0,n.SU)(a).query.id},null,8,["src"]),(0,t.Wm)(g,{right:100,bottom:100,target:".el-scrollbar__wrap"})])),_:1})}}});const y=(0,p.Z)(_,[["__scopeId","data-v-3792e5f0"]]);var U=y}}]);
//# sourceMappingURL=151.8364e1e3.js.map