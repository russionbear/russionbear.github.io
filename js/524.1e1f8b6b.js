"use strict";(self["webpackChunkadvancedwar_vue"]=self["webpackChunkadvancedwar_vue"]||[]).push([[524],{46540:function(e,t,a){a.d(t,{B:function(){return n},f2:function(){return g},N:function(){return o},H$:function(){return w},F0:function(){return y},HG:function(){return f}});var n={};a.r(n),a.d(n,{BActionType:function(){return p},BattleBuildTypes:function(){return u},BattleGeoTypes:function(){return r},BattleLevelTypes:function(){return i},BattleUnitStateTypes:function(){return c},BattleUnitTypes:function(){return s},BattleWeatherTypes:function(){return l},PlayerFlagTypes:function(){return d}});var o={};a.r(o),a.d(o,{C:function(){return m}});const r=["beach","bridge","forest","lake","mountain","plain","road","rocks","sea"],l=["sunny","snow","hot","rainy"],i=["normal",""],u=["city","airport","capital","factory","shipyard","stronghold"],s=["footmen","B2","CV","aagun","battleship","bigtank","missileship","chariot","conveyor","destroyer","fighter","gunnery","helicopter","howitzer","launchV","scout","submarine","tank","thaad","transportship","motorcycle","elite","aew","transport"],c=["loading","bullet","occupy","oil","supplies","diving","stealth"],d=["red","blue","green","yellow"];var p,m;(function(e){e["wait"]="wait",e["attack"]="attack",e["load"]="load",e["occupy"]="occupy",e["supply"]="supply",e["diving"]="diving",e["buy"]="buy",e["sortie"]="sortie",e["boutEnd"]="boutEnd",e["udpateMap"]="updateMap"})(p||(p={})),function(e){e["action"]="action",e["chat"]="chat",e["IupdateRoomSetting"]="updateRoomSetting",e["IgetRoom"]="getRoom",e["IuserChoose"]="userChoose",e["IgetMap"]="getMap",e["IprovideAI"]="provideAI",e["ItimeoutBout"]="timeoutBout",e["IgetRole"]="getRole",e["OmapInfo"]="mapInfo",e["OroomSetting"]="roomSetting",e["Oresult"]="result",e["Orole"]="role",e["OgameBegin"]="gameBegin"}(m||(m={}));const g=20,w=["","tip","warning","lock","kill"],f={reportId:"id",reportDsc:"dsc",reportUrl:"url",time:"time",from:"from",fromName:"name",fromDanger:{tip:0,warning:0,lock:0},fromResultDsc:"",to:"to",toName:"toName",toDanger:{tip:0,warning:0,lock:0},toResultDsc:""},y={blogId:"id",title:"error",authorId:"id",authorName:"",createTime:"2020",updateTime:"2020",kw:[],dsc:"error",good:0,copyright:""}},40089:function(e,t){t.Z=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a}},86693:function(e,t,a){a.d(t,{Z:function(){return k}});var n=a(73396),o=a(44870),r=a(87139),l=a(86367),i=a(84495),u=a(55743),s=a.n(u);const c={key:1,class:"row"},d={class:"row"},p={class:"row"},m=(0,n.Uk)("id"),g={class:"el-dropdown-link"},w=(0,n.Uk)("opera"),f={class:"row fade dsc"};var y=(0,n.aZ)({name:"InfoRoom",props:{data:null,btnName:null,hideImg:{type:Boolean},hideTitle:{type:Boolean},operaBtns:null},setup(e,{emit:t}){const a=e,{copy:u}=(0,l.VPI)({source:a.data.roomId.toString()}),y=(0,n.Fl)((()=>a.data)),h=e=>{"string"===typeof e?t(e,y.value.roomId.toString()):void 0!==a.operaBtns&&t(a.operaBtns[0],y.value.roomId.toString())};return(t,l)=>{const v=(0,n.up)("el-image"),k=(0,n.up)("el-tag"),_=(0,n.up)("el-space"),I=(0,n.up)("el-button"),S=(0,n.up)("el-dropdown-item"),B=(0,n.up)("el-dropdown-menu"),U=(0,n.up)("el-dropdown"),b=(0,n.up)("el-card");return(0,n.wg)(),(0,n.j4)(b,{class:"box-card",shadow:"hover","body-style":{padding:"0px"}},{default:(0,n.w5)((()=>[a.hideImg?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(v,{key:0,class:"data_img",src:(0,o.SU)(i.Z).staticUrls.mapImage+(0,o.SU)(y).mapId+".png",fit:"cover"},null,8,["src"])),a.hideTitle?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("h3",null,(0,r.zw)((0,o.SU)(y).mapName),1),(0,n._)("span",null,(0,r.zw)((0,o.SU)(y).version),1)])),(0,n._)("div",d,[(0,n._)("span",null,"rest:"+(0,r.zw)((0,o.SU)(y).users),1),(0,n._)("time",null,(0,r.zw)((0,o.SU)(s()).unix((0,o.SU)(y).roomBeginTime).format("DD/MM/YYYY")),1),(0,n._)("span",null,(0,r.zw)((0,o.SU)(y).playCount),1)]),(0,n._)("div",p,[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(y).kw.split(",").filter((e=>""!==e)),(e=>((0,n.wg)(),(0,n.j4)(k,{size:"small",key:e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(e),1)])),_:2},1024)))),128))])),_:1}),(0,n.Wm)(I,{type:"primary",text:"",size:"small",onClick:l[0]||(l[0]=e=>(0,o.SU)(u)())},{default:(0,n.w5)((()=>[m])),_:1}),void 0!==e.operaBtns&&e.operaBtns.length>1?((0,n.wg)(),(0,n.j4)(U,{key:0,onCommand:h,trigger:"click"},{dropdown:(0,n.w5)((()=>[(0,n.Wm)(B,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.operaBtns,(e=>((0,n.wg)(),(0,n.j4)(S,{key:e,command:e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(e),1)])),_:2},1032,["command"])))),128))])),_:1})])),default:(0,n.w5)((()=>[(0,n._)("span",g,[(0,n.Wm)(I,{type:"primary",size:"small"},{default:(0,n.w5)((()=>[w])),_:1})])])),_:1})):void 0!==e.operaBtns?((0,n.wg)(),(0,n.j4)(I,{key:1,type:"primary",size:"small",onClick:h},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(e.operaBtns[0]),1)])),_:1})):(0,n.kq)("",!0)]),(0,n._)("div",f,(0,r.zw)((0,o.SU)(y).ownerDsc),1)])),_:1})}}}),h=a(40089);const v=(0,h.Z)(y,[["__scopeId","data-v-a9a58800"]]);var k=v},97524:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(73396),o=a(44870),r=a(86693),l=a(18678),i=a(20065),u=a(70678),s=a(46540);const c={class:"list"},d={class:"container"};var p=(0,n.aZ)({name:"RoomsView",setup(e){const t=(0,i.oR)(),a=(0,u.tv)(),p=(0,o.qj)([]),m=(0,o.iH)(!1),g=(0,o.iH)(0),w=()=>{g.value!==Number.MAX_VALUE&&(m.value||(m.value=!0,console.log("loading"),l.A4({skip:g.value,type:t.state.indexSearchType,value:"time"!==t.state.indexSearchType?t.state.indexSearchKw:t.state.indexSearchTime}).then((e=>{e.data["data"]||e.data["data"].length<s.f2?g.value=Number.MAX_VALUE:g.value+=e.data["data"].length,p.push(...e.data["data"]),console.log(e.data,"data",[...p])})).catch((()=>{g.value=Number.MAX_VALUE})).finally((()=>{m.value=!1}))))},f=e=>{console.log(e),a.push({path:"/room",query:{id:e}})};return(0,n.YP)((()=>t.state.indexSearchKw),((e,t)=>{console.log(e,t),g.value=0,p.splice(0,p.length),w()})),(0,n.YP)((()=>t.state.indexSearchType),((e,t)=>{g.value=0,p.splice(0,p.length),w()})),(0,n.YP)((()=>t.state.indexSearchTime),(()=>{g.value=0,p.splice(0,p.length),w()})),(e,t)=>{const a=(0,n.up)("el-skeleton"),o=(0,n.Q2)("infinite-scroll");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("ul",c,[(0,n._)("div",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(p,(e=>((0,n.wg)(),(0,n.j4)(r.Z,{"opera-btns":["enter"],onEnter:f,class:"item",key:e.mapId,data:e},null,8,["data"])))),128))]),m.value?((0,n.wg)(),(0,n.j4)(a,{key:0,animated:""})):(0,n.kq)("",!0)])),[[o,w]])}}}),m=a(40089);const g=(0,m.Z)(p,[["__scopeId","data-v-3f400cdc"]]);var w=g}}]);
//# sourceMappingURL=524.1e1f8b6b.js.map