"use strict";(self["webpackChunkadvancedwar_vue"]=self["webpackChunkadvancedwar_vue"]||[]).push([[586],{46540:function(e,t,a){a.d(t,{B:function(){return n},f2:function(){return f},N:function(){return l},H$:function(){return w},F0:function(){return v},HG:function(){return g}});var n={};a.r(n),a.d(n,{BActionType:function(){return m},BattleBuildTypes:function(){return u},BattleGeoTypes:function(){return o},BattleLevelTypes:function(){return i},BattleUnitStateTypes:function(){return p},BattleUnitTypes:function(){return s},BattleWeatherTypes:function(){return r},PlayerFlagTypes:function(){return d}});var l={};a.r(l),a.d(l,{C:function(){return c}});const o=["beach","bridge","forest","lake","mountain","plain","road","rocks","sea"],r=["sunny","snow","hot","rainy"],i=["normal",""],u=["city","airport","capital","factory","shipyard","stronghold"],s=["footmen","B2","CV","aagun","battleship","bigtank","missileship","chariot","conveyor","destroyer","fighter","gunnery","helicopter","howitzer","launchV","scout","submarine","tank","thaad","transportship","motorcycle","elite","aew","transport"],p=["loading","bullet","occupy","oil","supplies","diving","stealth"],d=["red","blue","green","yellow"];var m,c;(function(e){e["wait"]="wait",e["attack"]="attack",e["load"]="load",e["occupy"]="occupy",e["supply"]="supply",e["diving"]="diving",e["buy"]="buy",e["sortie"]="sortie",e["boutEnd"]="boutEnd",e["udpateMap"]="updateMap"})(m||(m={})),function(e){e["action"]="action",e["chat"]="chat",e["IupdateRoomSetting"]="updateRoomSetting",e["IgetRoom"]="getRoom",e["IuserChoose"]="userChoose",e["IgetMap"]="getMap",e["IprovideAI"]="provideAI",e["ItimeoutBout"]="timeoutBout",e["IgetRole"]="getRole",e["OmapInfo"]="mapInfo",e["OroomSetting"]="roomSetting",e["Oresult"]="result",e["Orole"]="role",e["OgameBegin"]="gameBegin"}(c||(c={}));const f=20,w=["","tip","warning","lock","kill"],g={reportId:"id",reportDsc:"dsc",reportUrl:"url",time:"time",from:"from",fromName:"name",fromDanger:{tip:0,warning:0,lock:0},fromResultDsc:"",to:"to",toName:"toName",toDanger:{tip:0,warning:0,lock:0},toResultDsc:""},v={blogId:"id",title:"error",authorId:"id",authorName:"",createTime:"2020",updateTime:"2020",kw:[],dsc:"error",good:0,copyright:""}},40089:function(e,t){t.Z=(e,t)=>{const a=e.__vccOpts||e;for(const[n,l]of t)a[n]=l;return a}},10178:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(73396),l=a(44870),o=a(87139),r=a(86367),i=a(84495),u=a(55743),s=a.n(u);const p={key:1,class:"row"},d={class:"row"},m={class:"row"},c=(0,n.Uk)("id"),f={class:"el-dropdown-link"},w=(0,n.Uk)("opera"),g={class:"row fade dsc"};var v=(0,n.aZ)({name:"InfoMap",props:{data:null,btnName:null,hideImg:{type:Boolean},hideTitle:{type:Boolean},operaBtns:null},setup(e,{emit:t}){const a=e,{copy:u}=(0,r.VPI)({source:a.data.mapId.toString()}),v=(0,n.Fl)((()=>a.data)),y=e=>{"string"===typeof e?t(e,v.value.mapId.toString()):void 0!==a.operaBtns&&t(a.operaBtns[0],v.value.mapId.toString())};return(t,r)=>{const k=(0,n.up)("el-image"),h=(0,n.up)("el-tag"),I=(0,n.up)("el-space"),b=(0,n.up)("el-button"),_=(0,n.up)("el-dropdown-item"),U=(0,n.up)("el-dropdown-menu"),B=(0,n.up)("el-dropdown"),N=(0,n.up)("el-card");return(0,n.wg)(),(0,n.j4)(N,{class:"box-card",shadow:"hover","body-style":{padding:"0px"}},{default:(0,n.w5)((()=>[a.hideImg?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(k,{key:0,class:"data_img",src:(0,l.SU)(i.Z).staticUrls.mapImage+(0,l.SU)(v).mapId+".png",fit:"cover"},null,8,["src"])),a.hideTitle?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("h3",null,(0,o.zw)((0,l.SU)(v).mapName),1),(0,n._)("span",null,(0,o.zw)((0,l.SU)(v).version),1)])),(0,n._)("div",d,[(0,n._)("span",null,(0,o.zw)((0,l.SU)(v).authorName),1),(0,n._)("time",null,(0,o.zw)((0,l.SU)(s()).unix((0,l.SU)(v).updateTime).format("DD/MM/YYYY")),1),(0,n._)("span",null,(0,o.zw)((0,l.SU)(v).playCount),1)]),(0,n._)("div",m,[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(v).kw.split(",").filter((e=>""!==e)),(e=>((0,n.wg)(),(0,n.j4)(h,{size:"small",key:e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e),1)])),_:2},1024)))),128))])),_:1}),(0,n.Wm)(b,{type:"primary",text:"",size:"small",onClick:r[0]||(r[0]=e=>(0,l.SU)(u)())},{default:(0,n.w5)((()=>[c])),_:1}),void 0!==e.operaBtns&&e.operaBtns.length>1?((0,n.wg)(),(0,n.j4)(B,{key:0,onCommand:y,trigger:"click"},{dropdown:(0,n.w5)((()=>[(0,n.Wm)(U,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.operaBtns,(e=>((0,n.wg)(),(0,n.j4)(_,{key:e,command:e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e),1)])),_:2},1032,["command"])))),128))])),_:1})])),default:(0,n.w5)((()=>[(0,n._)("span",f,[(0,n.Wm)(b,{type:"primary",size:"small"},{default:(0,n.w5)((()=>[w])),_:1})])])),_:1})):void 0!==e.operaBtns?((0,n.wg)(),(0,n.j4)(b,{key:1,type:"primary",size:"small",onClick:y},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.operaBtns[0]),1)])),_:1})):(0,n.kq)("",!0)]),(0,n._)("div",g,(0,o.zw)((0,l.SU)(v).mapDsc),1)])),_:1})}}}),y=a(40089);const k=(0,y.Z)(v,[["__scopeId","data-v-6416e454"]]);var h=k},16248:function(e,t,a){a.d(t,{Z:function(){return p}});var n=a(73396),l=a(87139),o=a(44870),r=a(70678),i=(0,n.aZ)({name:"MyLinkTo",props:{text:{default:"HOME"},bottom:{default:100},linkType:{default:"home"}},emits:["click"],setup(e,{emit:t}){const a=e,i=(0,r.tv)(),u=(0,n.Fl)((()=>a.text)),s=(0,o.iH)(a.linkType);switch(a.linkType){case"home":s.value="/index";break;case"page":s.value="/user";break;default:break}const p=()=>{"event"===a.linkType?t("click"):i.push({path:s.value})};return(t,a)=>{const r=(0,n.up)("el-button");return(0,n.wg)(),(0,n.j4)(r,{class:"button",type:"primary",round:"",style:(0,l.j5)({bottom:e.bottom+"px"}),onClick:p},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)((0,o.SU)(u)),1)])),_:1},8,["style"])}}}),u=a(40089);const s=(0,u.Z)(i,[["__scopeId","data-v-f6e4511c"]]);var p=s},15586:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var n=a(73396),l=a(44870),o=a(10178),r=a(46540),i=a(16248),u=a(42807),s=a(45499),p=a(18678),d=a(70678),m=a(20065),c=a(84495);const f={class:"list"},w={class:"container"},g=(0,n.Uk)("save map info"),v=["src"];var y=(0,n.aZ)({name:"UserMaps",setup(e){const t=(0,d.tv)(),a=(0,m.oR)(),y=(0,l.iH)(!1),k=(0,l.iH)(0),h=(0,l.qj)([]),I=()=>{k.value!==Number.MAX_VALUE&&(y.value||(y.value=!0,p.IC({skip:k.value,type:"self",value:a.state.userinfo.email}).then((e=>{e.data["data"]||e.data["data"].length<r.f2?k.value=Number.MAX_VALUE:k.value+=e.data["data"].length,h.push(...e.data["data"]),console.log(e.data,"data",...h)})).catch((()=>{k.value=Number.MAX_VALUE})).finally((()=>{y.value=!1}))))},b=(0,l.qj)({visible:!1,mapId:void 0,mapName:"mapName",version:"1.0",kw:"",mapDsc:""}),_=e=>{t.push({path:"/map",query:{id:e}})},U=()=>{""!==b.mapName.replaceAll(" ","")?p.Z5({mapId:b.mapId,mapDsc:b.mapDsc,mapName:b.mapName,token:a.state.userinfo.token,version:b.version,kw:b.kw}).then((e=>{(0,u.z8)({message:"success",type:"success"}),b.mapId=e.data["data"],p.IC({skip:0,type:"id",value:e.data["data"]}).then((t=>{let a=h.findIndex((t=>t.mapId==e.data["data"])),n=t.data["data"][0];-1!==a?h.splice(a,1,n):h.splice(0,0,n)}))})).catch((()=>{(0,u.z8)({message:"error",type:"error"})})).finally((()=>{})):(0,u.z8)({message:"地图名称未填写",type:"warning"})},B=()=>{b.visible=!0,b.mapId=void 0,b.mapName="mapName",b.version="",b.kw=""},N=()=>{b.visible=!1},D=e=>{let t=h.find((t=>t.mapId==parseInt(e)));void 0!==t&&(b.mapId=parseInt(e),b.mapName=t.mapName,b.version=t.version,b.kw=t.kw,b.mapDsc=t.mapDsc,b.visible=!0)},S=e=>{let t=h.find((t=>t.mapId==parseInt(e)));s.T.confirm(`删除${t.mapName}?`,"Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{p.yy({mapId:t.mapId,token:a.state.userinfo.token}).then((t=>{let a=h.findIndex((t=>t.mapId==parseInt(e)));-1!==a?(h.splice(a,1),(0,u.z8)({message:"删除成功",type:"success"})):console.log("hhh222",t.data,h)}))}))};return(e,t)=>{const a=(0,n.up)("el-skeleton"),r=(0,n.up)("el-input"),u=(0,n.up)("el-form-item"),s=(0,n.up)("el-popover"),p=(0,n.up)("el-button"),d=(0,n.up)("el-form"),m=(0,n.up)("el-scrollbar"),k=(0,n.up)("el-dialog"),T=(0,n.Q2)("infinite-scroll");return(0,n.wg)(),(0,n.j4)(m,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.iD)("ul",f,[(0,n._)("div",w,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(h,(e=>((0,n.wg)(),(0,n.j4)(o.Z,{"btn-name":"view",class:"item",key:e.mapId,data:e,"opera-btns":["enter","delete","editor"],onEnter:_,onDelete:S,onEditor:D},null,8,["data"])))),128))]),y.value?((0,n.wg)(),(0,n.j4)(a,{key:0,animated:""})):(0,n.kq)("",!0)])),[[T,I]]),(0,n.Wm)(i.Z,{bottom:150,text:"new","link-type":"event",onClick:B}),(0,n.Wm)(k,{modelValue:b.visible,"onUpdate:modelValue":t[4]||(t[4]=e=>b.visible=e),fullscreen:!0,width:"30%",onClose:N},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"demo-form-inline"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{label:"mapName"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{modelValue:b.mapName,"onUpdate:modelValue":t[0]||(t[0]=e=>b.mapName=e),maxlength:32},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,{label:"tags"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{placement:"bottom",maxlength:32,title:"tip",width:200,trigger:"hover",content:"max length: 32, 分隔符为英文逗号"},{reference:(0,n.w5)((()=>[(0,n.Wm)(r,{modelValue:b.kw,"onUpdate:modelValue":t[1]||(t[1]=e=>b.kw=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(u,{label:"version"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{modelValue:b.version,"onUpdate:modelValue":t[2]||(t[2]=e=>b.version=e),maxlength:16},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,{label:"mapDsc"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{modelValue:b.mapDsc,"onUpdate:modelValue":t[3]||(t[3]=e=>b.mapDsc=e),type:"textarea",maxlength:250},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{onClick:U,type:"primary"},{default:(0,n.w5)((()=>[g])),_:1})])),_:1})])),_:1}),void 0!==b.mapId?((0,n.wg)(),(0,n.iD)("iframe",{key:0,class:"edit-area",src:(0,l.SU)(c.Z).egretUrl+"?mapid="+b.mapId},null,8,v)):(0,n.kq)("",!0)])),_:1})])),_:1},8,["modelValue"])])),_:1})}}}),k=a(40089);const h=(0,k.Z)(y,[["__scopeId","data-v-103c26c8"]]);var I=h}}]);
//# sourceMappingURL=586.37242eb9.js.map